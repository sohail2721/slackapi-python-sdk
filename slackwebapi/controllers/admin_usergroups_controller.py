"""slackwebapi.

This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
"""

# ruff: noqa: D410, E501, E101, D206
from apimatic_core.authentication.multiple.single_auth import (
    Single,
)
from apimatic_core.request_builder import RequestBuilder
from apimatic_core.response_handler import ResponseHandler
from apimatic_core.types.parameter import Parameter

from slackwebapi.api_helper import APIHelper
from slackwebapi.configuration import Server
from slackwebapi.controllers.base_controller import (
    BaseController,
)
from slackwebapi.exceptions.default_error_template_exception import (
    DefaultErrorTemplateException,
)
from slackwebapi.http.http_method_enum import (
    HttpMethodEnum,
)
from slackwebapi.models.default_success_template import (
    DefaultSuccessTemplate,
)


class AdminUsergroupsController(BaseController):
    """A Controller to access Endpoints in the slackwebapi API."""

    def __init__(self, config):
        """Initialize AdminUsergroupsController object."""
        super(AdminUsergroupsController, self).__init__(config)

    def admin_usergroups_add_channels(self,
                                      token,
                                      usergroup_id,
                                      channel_ids,
                                      team_id=None):
        """Perform a POST request to /admin.usergroups.addChannels.

        Add one or more default channels to an IDP group.

        Args:
            token (str): Authentication token. Requires scope:
                `admin.usergroups:write`
            usergroup_id (str): ID of the IDP group to add default channels for.
            channel_ids (str): Comma separated string of channel IDs.
            team_id (str, optional): The workspace to add default channels in.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Typical success response

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/admin.usergroups.addChannels")
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                .key("token")
                .value(token)
                .is_required(True))
            .form_param(Parameter()
                .key("usergroup_id")
                .value(usergroup_id)
                .is_required(True))
            .form_param(Parameter()
                .key("channel_ids")
                .value(channel_ids)
                .is_required(True))
            .form_param(Parameter()
                .key("team_id")
                .value(team_id))
            .header_param(Parameter()
                            .key("content-type")
                            .value("application/x-www-form-urlencoded"))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(Single("slackAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(DefaultSuccessTemplate.from_dictionary)
            .is_api_response(True)
            .local_error("default",
                "Typical error response if the token provided is not associated with "
                "an Org Admin or Owner",
                DefaultErrorTemplateException),
        ).execute()

    def admin_usergroups_add_teams(self,
                                   token,
                                   usergroup_id,
                                   team_ids,
                                   auto_provision=None):
        """Perform a POST request to /admin.usergroups.addTeams.

        Associate one or more default workspaces with an organization-wide IDP group.

        Args:
            token (str): Authentication token. Requires scope: `admin.teams:write`
            usergroup_id (str): An encoded usergroup (IDP Group) ID.
            team_ids (str): A comma separated list of encoded team (workspace) IDs.
                Each workspace *MUST* belong to the organization associated with the
                token.
            auto_provision (bool, optional): When `true`, this method automatically
                creates new workspace accounts for the IDP group members.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Typical success response

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/admin.usergroups.addTeams")
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                .key("token")
                .value(token)
                .is_required(True))
            .form_param(Parameter()
                .key("usergroup_id")
                .value(usergroup_id)
                .is_required(True))
            .form_param(Parameter()
                .key("team_ids")
                .value(team_ids)
                .is_required(True))
            .form_param(Parameter()
                .key("auto_provision")
                .value(auto_provision))
            .header_param(Parameter()
                            .key("content-type")
                            .value("application/x-www-form-urlencoded"))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(Single("slackAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(DefaultSuccessTemplate.from_dictionary)
            .is_api_response(True)
            .local_error("default",
                "Typical error response",
                DefaultErrorTemplateException),
        ).execute()

    def admin_usergroups_list_channels(self,
                                       token,
                                       usergroup_id,
                                       team_id=None,
                                       include_num_members=None):
        """Perform a GET request to /admin.usergroups.listChannels.

        List the channels linked to an org-level IDP group (user group).

        Args:
            token (str): Authentication token. Requires scope: `admin.usergroups:read`
            usergroup_id (str): ID of the IDP group to list default channels for.
            team_id (str, optional): ID of the the workspace.
            include_num_members (bool, optional): Flag to include or exclude the
                count of members per channel.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Typical success response

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/admin.usergroups.listChannels")
            .http_method(HttpMethodEnum.GET)
            .header_param(Parameter()
                .key("token")
                .value(token)
                .is_required(True))
            .query_param(Parameter()
                .key("usergroup_id")
                .value(usergroup_id)
                .is_required(True))
            .header_param(Parameter()
                .key("Content-Type")
                .value("application/x-www-form-urlencoded"))
            .query_param(Parameter()
                .key("team_id")
                .value(team_id))
            .query_param(Parameter()
                .key("include_num_members")
                .value(include_num_members))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(Single("slackAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(DefaultSuccessTemplate.from_dictionary)
            .is_api_response(True)
            .local_error("default",
                "Typical error response if the token provided is not associated with "
                "an Org Admin or Owner",
                DefaultErrorTemplateException),
        ).execute()

    def admin_usergroups_remove_channels(self,
                                         token,
                                         usergroup_id,
                                         channel_ids):
        """Perform a POST request to /admin.usergroups.removeChannels.

        Remove one or more default channels from an org-level IDP group (user group).

        Args:
            token (str): Authentication token. Requires scope:
                `admin.usergroups:write`
            usergroup_id (str): ID of the IDP Group
            channel_ids (str): Comma-separated string of channel IDs

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Typical success response

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/admin.usergroups.removeChannels")
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                .key("token")
                .value(token)
                .is_required(True))
            .form_param(Parameter()
                .key("usergroup_id")
                .value(usergroup_id)
                .is_required(True))
            .form_param(Parameter()
                .key("channel_ids")
                .value(channel_ids)
                .is_required(True))
            .header_param(Parameter()
                            .key("content-type")
                            .value("application/x-www-form-urlencoded"))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(Single("slackAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(DefaultSuccessTemplate.from_dictionary)
            .is_api_response(True)
            .local_error("default",
                "Typical error response if the token provided is not associated with "
                "an Org Admin or Owner",
                DefaultErrorTemplateException),
        ).execute()
