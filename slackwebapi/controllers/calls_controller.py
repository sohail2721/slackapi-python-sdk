"""slackwebapi.

This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
"""

# ruff: noqa: D410, E501, E101, D206
from apimatic_core.authentication.multiple.single_auth import (
    Single,
)
from apimatic_core.request_builder import RequestBuilder
from apimatic_core.response_handler import ResponseHandler
from apimatic_core.types.parameter import Parameter

from slackwebapi.api_helper import APIHelper
from slackwebapi.configuration import Server
from slackwebapi.controllers.base_controller import (
    BaseController,
)
from slackwebapi.exceptions.default_error_template_exception import (
    DefaultErrorTemplateException,
)
from slackwebapi.http.http_method_enum import (
    HttpMethodEnum,
)
from slackwebapi.models.default_success_template import (
    DefaultSuccessTemplate,
)


class CallsController(BaseController):
    """A Controller to access Endpoints in the slackwebapi API."""

    def __init__(self, config):
        """Initialize CallsController object."""
        super(CallsController, self).__init__(config)

    def calls_add(self,
                  token,
                  external_unique_id,
                  join_url,
                  external_display_id=None,
                  desktop_app_join_url=None,
                  date_start=None,
                  title=None,
                  created_by=None,
                  users=None):
        """Perform a POST request to /calls.add.

        Registers a new Call.

        Args:
            token (str): Authentication token. Requires scope: `calls:write`
            external_unique_id (str): An ID supplied by the 3rd-party Call provider.
                It must be unique across all Calls from that service.
            join_url (str): The URL required for a client to join the Call.
            external_display_id (str, optional): An optional, human-readable ID
                supplied by the 3rd-party Call provider. If supplied, this ID will be
                displayed in the Call object.
            desktop_app_join_url (str, optional): When supplied, available Slack
                clients will attempt to directly launch the 3rd-party Call with this
                URL.
            date_start (int, optional): Call start time in UTC UNIX timestamp format
            title (str, optional): The name of the Call.
            created_by (str, optional): The valid Slack user ID of the user who
                created this Call. When this method is called with a user token, the
                `created_by` field is optional and defaults to the authed user of the
                token. Otherwise, the field is required.
            users (str, optional): The list of users to register as participants in
                the Call. [Read more on how to specify users here](/apis/calls#users).

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Typical success response

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/calls.add")
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                .key("token")
                .value(token)
                .is_required(True))
            .form_param(Parameter()
                .key("external_unique_id")
                .value(external_unique_id)
                .is_required(True))
            .form_param(Parameter()
                .key("join_url")
                .value(join_url)
                .is_required(True))
            .form_param(Parameter()
                .key("external_display_id")
                .value(external_display_id))
            .form_param(Parameter()
                .key("desktop_app_join_url")
                .value(desktop_app_join_url))
            .form_param(Parameter()
                .key("date_start")
                .value(date_start))
            .form_param(Parameter()
                .key("title")
                .value(title))
            .form_param(Parameter()
                .key("created_by")
                .value(created_by))
            .form_param(Parameter()
                .key("users")
                .value(users))
            .header_param(Parameter()
                            .key("content-type")
                            .value("application/x-www-form-urlencoded"))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(Single("slackAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(DefaultSuccessTemplate.from_dictionary)
            .is_api_response(True)
            .local_error("default",
                "Typical error response",
                DefaultErrorTemplateException),
        ).execute()

    def calls_end(self,
                  token,
                  id,
                  duration=None):
        """Perform a POST request to /calls.end.

        Ends a Call.

        Args:
            token (str): Authentication token. Requires scope: `calls:write`
            id (str): `id` returned when registering the call using the
                [`calls.add`](/methods/calls.add) method.
            duration (int, optional): Call duration in seconds

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Typical success response

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/calls.end")
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                .key("token")
                .value(token)
                .is_required(True))
            .form_param(Parameter()
                .key("id")
                .value(id)
                .is_required(True))
            .form_param(Parameter()
                .key("duration")
                .value(duration))
            .header_param(Parameter()
                            .key("content-type")
                            .value("application/x-www-form-urlencoded"))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(Single("slackAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(DefaultSuccessTemplate.from_dictionary)
            .is_api_response(True)
            .local_error("default",
                "Typical error response",
                DefaultErrorTemplateException),
        ).execute()

    def calls_info(self,
                   token,
                   id):
        """Perform a GET request to /calls.info.

        Returns information about a Call.

        Args:
            token (str): Authentication token. Requires scope: `calls:read`
            id (str): `id` of the Call returned by the
                [`calls.add`](/methods/calls.add) method.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Typical success response

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/calls.info")
            .http_method(HttpMethodEnum.GET)
            .header_param(Parameter()
                .key("token")
                .value(token)
                .is_required(True))
            .query_param(Parameter()
                .key("id")
                .value(id)
                .is_required(True))
            .header_param(Parameter()
                .key("Content-Type")
                .value("application/x-www-form-urlencoded"))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(Single("slackAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(DefaultSuccessTemplate.from_dictionary)
            .is_api_response(True)
            .local_error("default",
                "Typical error response",
                DefaultErrorTemplateException),
        ).execute()

    def calls_update(self,
                     token,
                     id,
                     title=None,
                     join_url=None,
                     desktop_app_join_url=None):
        """Perform a POST request to /calls.update.

        Updates information about a Call.

        Args:
            token (str): Authentication token. Requires scope: `calls:write`
            id (str): `id` returned by the [`calls.add`](/methods/calls.add) method.
            title (str, optional): The name of the Call.
            join_url (str, optional): The URL required for a client to join the Call.
            desktop_app_join_url (str, optional): When supplied, available Slack
                clients will attempt to directly launch the 3rd-party Call with this
                URL.

        Returns:
            ApiResponse: An object with the response value as well as other useful
                information such as status codes and headers. Typical success response

        Raises:
            ApiException: When an error occurs while fetching the data from the
                remote API. This exception includes the HTTP Response code, an error
                message, and the HTTP body that was received in the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/calls.update")
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                .key("token")
                .value(token)
                .is_required(True))
            .form_param(Parameter()
                .key("id")
                .value(id)
                .is_required(True))
            .form_param(Parameter()
                .key("title")
                .value(title))
            .form_param(Parameter()
                .key("join_url")
                .value(join_url))
            .form_param(Parameter()
                .key("desktop_app_join_url")
                .value(desktop_app_join_url))
            .header_param(Parameter()
                            .key("content-type")
                            .value("application/x-www-form-urlencoded"))
            .header_param(Parameter()
                .key("accept")
                .value("application/json"))
            .auth(Single("slackAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(DefaultSuccessTemplate.from_dictionary)
            .is_api_response(True)
            .local_error("default",
                "Typical error response",
                DefaultErrorTemplateException),
        ).execute()
